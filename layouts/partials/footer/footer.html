{{- $ThemeVersion := "3.11.0" -}}
<footer class="site-footer">
    <section class="copyright">
        &copy; 
        {{ if and (.Site.Params.footer.since) (ne .Site.Params.footer.since (int (now.Format "2006"))) }}
            {{ .Site.Params.footer.since }} - 
        {{ end }}
        {{ now.Format "2006" }} {{ .Site.Title }}
    </section>

    <section class="powerby">
        {{ with .Site.Params.footer.customText }}
            {{ . | safeHTML }} <br/>
        {{ end }}
        
        <div id = "info"></div>

        {{- $Generator := `<a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a>` -}}
        {{- $Theme := printf `<b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="%s">Stack</a></b>` $ThemeVersion -}}
        {{- $DesignedBy := `<a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>` -}}

        {{ T "footer.builtWith" (dict "Generator" $Generator) | safeHTML }} <br />
        {{ T "footer.designedBy" (dict "Theme" $Theme "DesignedBy" $DesignedBy) | safeHTML }}
    </section>
</footer>

<script>
    var info=document.getElementById('info');
    setInterval(function(){
        //现在的日期
        var nd=new Date();
        //目标的日期 0-11
        var td=new Date(2022,5,18,9);
        //td-nd  时间戳 毫秒差  把diff换算成天，小时，分钟，秒
        var diff=td-nd;
        var day=parseInt(diff/(1000*60*60*24));
        var hour=parseInt(diff%(1000*60*60*24)/(1000*60*60));
        var minutes=parseInt(diff%(1000*60*60)/(1000*60));
        var seconds=parseInt(diff%(1000*60*60)%(1000*60)/1000);
        info.innerText='距离2022年上海市初中学业水平考试'+day+'天'+hour+'小时'+minutes+'分钟'+seconds+'秒';
    },1000)   
</script>
